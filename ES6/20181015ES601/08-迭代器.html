<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>es606</title>
</head>

<body>
    <script>
    //è¿­ä»£å™¨ï¼ˆéå†å™¨ï¼‰ ç”Ÿæˆå™¨
    //æ•°æ®è¿­ä»£ï¼› éœ€è¦éå†çš„æ•°æ®ç±»å‹ï¼šæ•°ç»„ å¯¹è±¡ Map Set
    //å¯¹äºæ•°ç»„çš„è¿­ä»£ï¼š1.for 2. map forEach filter(è¿”å›ç¬¦åˆæ¡ä»¶çš„)
    var arr = [1,2,3,4]
    for(let i = 0;i < arr.length; i++){
    	console.log(arr[i]);
    }

    arr.forEach(function(ele,index){
    	console.log(ele);
    })

    arr.forEach(ele => console.log(ele))

    //ES6--è¿­ä»£å™¨ï¼šç‰¹æ®Šçš„å¯¹è±¡ï¼Œä¸“é—¨ä¸ºå¯è¿­ä»£å¯¹è±¡è®¾è®¡çš„ç»Ÿä¸€æ¥å£ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨æ¥éå†æ•°æ®
    //ç‰¹ç‚¹ï¼šæ¯ä¸ªè¿­ä»£å™¨éƒ½æœ‰next()æ–¹æ³•ï¼Œæ¯æ¬¡æ‰§è¡Œnextæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªç»“æœå¯¹è±¡{value , done}
    // value:æ¯æ¬¡è¿­ä»£çš„æ•°æ®ã€‚  done:è¿­ä»£æ˜¯å¦ç»“æŸ Boolean


    // æ¯ä¸ªè¿­ä»£å™¨æœ‰ä¸“ç”¨æŒ‡é’ˆï¼Œå¼€å§‹æ—¶æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªå€¼æ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œè¿”å›å½“å‰å€¼ï¼ŒæŒ‡é’ˆä¸‹ç§»ã€‚
    // æ¯ä¸ªè¿­ä»£å™¨æ”¯æŒfor of å¾ªç¯
    // let arr1 = [1, 2, 3];
    // arr.iterator.next();æ‰§è¡Œè¿‡ç¨‹ 
    // arr.iterator.net() --> {value:1, done:false}
    // arr.iterator.net() --> {value:2, done:false}
    // arr.iterator.net() --> {value:3, done:false}
    // arr.iterator.net() --> {value:undefined, done:true}

    // Iterator = {
    // 	next(){
    // 		return {
    // 			value,
    // 			done
    // 		}
    // 	}
    // }
    //åˆ›å»ºä¸€ä¸ªå¯ä»¥è¿­ä»£æ•°ç»„çš„è¿­ä»£å™¨
    // function createIterator(arr = []) {
    //     let nextIndex = 0;
    //     return {
    //         next() {
    //             if (arr.length - 1 < nextIndex) {
    //                 return {
    //                     value: undefined,
    //                     done: true
    //                 }
    //             } else {
    //                 return {
    //                     value: arr[nextIndex++],
    //                     done: false
    //                 }
    //             }
    //         }
    //     }
    // }

    // var i = createIterator(arr1);
    // i.next() //{value:1, done:true}
    // i.next()
    // i.next()


    //é»˜è®¤çš„Iteratoræ¥å£ 
    // Array Map Set String arguments NodeList
    //1.Array Map Set

    let arrI = ['one', 2, 3, 4];
    let map = new Map([
        ['name', 'wsn'],
        ['age', 18],
        ['hobbit', 'boy']
    ])
    let set = new Set(['one', 2, 3, 4,4]);
    // for in && for of
    console.log("for in && for of");
    // æ•°ç»„
    console.log("æ•°ç»„");
    for (let a in arrI){
        console.log("in: " + a);
    }
    for (let a of arrI){
        console.log("of: " + a);
    }
    // map
    console.log("map");
    for (let a in map){//mapä¸èƒ½ä½¿ç”¨for in
        console.log("in: " + a);
    }
    for (let a of map){
        console.log("of: " + a);
    }
    // set
    console.log("set");
    for (let a in set){//setä¸èƒ½ä½¿ç”¨ for in
        console.log("in: " + a);
    }
    for (let a of set){
        console.log("of: " + a);
    }
    //entries()
    console.log("entries");
    let arrEntries = arrI.entries(); //å¯¹äºæ•°ç»„è¿”å›çš„æ˜¯æ•°ç»„[index, value]
    let mapEntries = map.entries(); //å¯¹äºMapè¿”å›çš„æ˜¯æ•°ç»„[key, value]
    let setEntries = set.entries(); //å¯¹äºæ•°ç»„è¿”å›çš„æ˜¯æ•°ç»„[key, key]
    for (let [key, value] of arrEntries) {
        console.log(key, value);
    }

    //keys()
    console.log("keys");
    let arrKeys = arrI.keys(); //å¯¹äºæ•°ç»„è¿”å›çš„æ˜¯æ•°ç»„çš„ç´¢å¼•
    let mapKeys = map.keys(); //å¯¹äºMapè¿”å›çš„æ˜¯mapçš„key
    let setKeys = set.keys(); //å¯¹äºæ•°ç»„è¿”å›çš„æ˜¯setçš„key
    for (let key of arrKeys) {
        console.log(key);
    }

    //values()
    console.log("values");
    let arrValues = arrI.values(); //å¯¹äºæ•°ç»„è¿”å›çš„æ˜¯æ•°ç»„value
    let mapValues = map.values(); //å¯¹äºMapè¿”å›çš„æ˜¯mapçš„value
    let setValues = set.values(); //å¯¹äºæ•°ç»„è¿”å›çš„æ˜¯setçš„key
    for (let value of arrValues) {
        console.log(value);
    }


    //æ‰€æœ‰çš„è¿­ä»£å™¨éƒ½æœ‰Symbol.Iteratorå±æ€§ï¼Œå¿…é¡»é€šè¿‡ä¸­æ‹¬å·å½¢å¼è®¿é—®
    console.log("Symbol");
    for(let item of map[Symbol.iterator]()) {
    	console.log(item);
    }
    
    let strI = new String("hello");
    console.log(strI);

    //åŸç†
    //æ•°ç»„ä¸­è¿­ä»£å™¨æŒ‡é’ˆæ¯æ¬¡æŒ‡å‘ä¸‹ä¸€ä¸ªç´¢å¼•
    //Map Set ä¼šæŠŠä¸´æ¥è¿è¡¨è½¬åŒ–ä¸ºä¸€ä¸ªå•é¡¹é“¾è¡¨ï¼ŒæŒ‡é’ˆæ¯æ¬¡æŒ‡å‘ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‡é’ˆä¸‹ç§»
    console.log("åŸç†");
    let arr1 = ['one', 2, 3, 4];
    let map1 = new Map([
        ['name', 'wsn'],
        ['age', 18],
        ['hobbit', 'boy']
    ])
    let set1 = new Set(['one', 2, 3, 4,4]);
    console.log("arr");
    for(let item of arr) { //arr[Symbol.iteratol]() => arr.values()
    	console.log(item);
    }
    console.log("map");
    for(let key of map){ //map[Symbol.iteratol]() => map.entries()
    	console.log(key);
    }
    console.log("set");
    for(let key of set){ //set[Symbol.iteratol]() => map.key()
    	console.log(key);
    }

    //å¯¹è±¡æ˜¯ä¸å¯è¿­ä»£çš„,å¯ä»¥ç”¨for inæ¥å¾ªç¯
    

    //String//åªè¦èƒ½å¤Ÿè¿­ä»£å¯ä»¥è°ƒç”¨[Symbol.Iterator]().next()
    //åŒå­—èŠ‚è¯
    let str = 'IğŸ˜„N';
    for(let s of str) {
    	console.log(s);
    }

    //likeArray ç±»æ•°ç»„
    function fn() {
    	for(let arg of arguments){
    		console.log(arg)
    	}
    }

    //ç”Ÿæˆå™¨ Generator
    //ç”¨äºç”Ÿæˆè¿­ä»£å™¨
    //ç”Ÿæˆå™¨æ˜¯å‡½æ•° *    yield  æ²¡æœ‰è¿”å›å€¼
    // function *createIterator() {
    // 	console.log('frist befor');
    // 	yield 1;
    // 	console.log('secound befor');
    // 	yield 2;
    // 	console.log('third befor');
    // 	yield 3;
    // }

    // var i = createIterator()

    function open () {
        console.log('Opening');
        setTimeout(() => {
            console.log('æ‰“å¼€å†°ç®±');
            process.next();
        }, 2000)
    }

    function load () {
        console.log('Loading');
        setTimeout(() => {
            console.log('fang daxiang');
            process.next();
        }, 2000)
    }

    function close () {
        console.log('Closing');
        setTimeout(() => {
            console.log('å…³é—­å†°ç®±é—¨');

        }, 1000)
    }

    function *loadElephant() {
        yield open();
        yield load();
        yield close();
    }

    // let process = loadElephant();
    // process.next();


    function *create() {
        var res;
        yield 1;
        
        res = yield 2;
        yield res;
    }

    let i = create();


    //åƒæ©˜å­ã€‚--ã€‹æ´—æ‰‹ã€‚æ‰’çš®ã€‚åƒ
    function washHands(){
        console.log('xi shou');
        setTimeout(function(){
            process.next('å¹²å‡€çš„æ‰‹')
        }, 2000)
    }

    function peeling(){
        console.log('ba pi');
        setTimeout(function(){
            process.next('æ²¡æœ‰çš®çš„æ©˜å­')
        }, 2000)
    }

    function eat(){
        console.log('eat');
        setTimeout(function(){
            process.next('çœŸå¥½åƒ')
        }, 2000)
    }

    function *eatOrange(){
        let result = `${yield washHands()} --1--${yield peeling()} --1-- ${yield eat()}`;
        console.log(result)
    }

    let process = eatOrange();
    // process.next();

    //å§”æ‰˜è¿­ä»£å™¨ yield *
    //ä¾¿åˆ©æ•°ç»„å’Œå­—ç¬¦ä¸²

    function *show(arr, string){
        yield *arr;
        yield *string;
    }

    let u = show([1,3,2,4], 'hello');
    for(let item of u){
        console.log(item);
    }

    </script>
</body>

</html>